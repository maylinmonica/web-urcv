<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    @page { 
      margin: 15mm; 
      size: A4;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      color: #333;
      background: white;
      font-size: 12px;
    }
    .container { 
      max-width: 100%;
      margin: 0;
      background: white;
      padding: 0;
      height: 100vh;
      overflow: hidden;
    }
    
    /* Header Section - Compact */
    .header {
      display: flex;
      gap: 25px;
      margin-bottom: 25px;
      align-items: flex-start;
    }
    
    .photo-container {
      flex-shrink: 0;
    }
    
    .photo {
      width: 120px;
      height: 140px;
      border-radius: 15px;
      object-fit: cover;
      border: 3px solid #e67e22;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .header-info {
      flex: 1;
      padding-top: 10px;
    }
    
    .name {
      font-size: 32px;
      font-weight: bold;
      color: #2c3e50;
      margin: 0 0 8px 0;
      line-height: 1;
    }
    
    .job-title {
      font-size: 16px;
      color: #e67e22;
      margin-bottom: 15px;
      font-weight: 300;
    }
    
    .about-text {
      font-size: 12px;
      line-height: 1.4;
      color: #555;
      text-align: justify;
      margin-bottom: 15px;
    }
    
    /* Contact Info - Inline */
    .contact-info {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 10px;
    }
    
    .contact-item {
      font-size: 11px;
      color: #555;
    }
    
    .contact-label {
      font-weight: bold;
      color: #e67e22;
    }
    
    /* Two Column Layout - Compact */
    .two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
      margin-bottom: 20px;
    }
    
    /* Section Headers - Smaller */
    h2 {
      font-size: 16px;
      color: #2c3e50;
      margin: 0 0 12px 0;
      position: relative;
      padding-bottom: 6px;
    }
    
    h2:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 2px;
      background: #e67e22;
    }
    
    /* Skills Section - Compact */
    .skills-list {
      list-style: none;
      padding: 0;
      margin: 0 0 20px 0;
    }
    
    .skills-list li {
      margin-bottom: 4px;
      font-size: 11px;
      color: #555;
      position: relative;
      padding-left: 15px;
    }
    
    .skills-list li:before {
      content: 'â€¢';
      color: #e67e22;
      font-size: 14px;
      position: absolute;
      left: 0;
      top: -1px;
    }
    
    /* Timeline Items - Compact */
    .timeline-item {
      margin-bottom: 15px;
      position: relative;
      padding-left: 18px;
    }
    
    .timeline-item:before {
      content: '';
      position: absolute;
      left: 0;
      top: 6px;
      width: 8px;
      height: 8px;
      background: #e67e22;
      border-radius: 50%;
      border: 2px solid #fff;
      box-shadow: 0 0 0 1px #e67e22;
    }
    
    .timeline-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 3px;
    }
    
    .timeline-title {
      font-size: 13px;
      font-weight: bold;
      color: #2c3e50;
      margin: 0;
      line-height: 1.2;
    }
    
    .timeline-date {
      font-size: 10px;
      color: #7f8c8d;
      font-weight: 600;
      white-space: nowrap;
    }
    
    .timeline-company {
      font-size: 11px;
      color: #e67e22;
      font-style: italic;
      margin-bottom: 4px;
    }
    
    .timeline-description {
      font-size: 11px;
      line-height: 1.3;
      color: #555;
    }
    
    /* References Section - Compact */
    .references-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 15px;
    }
    
    .reference-item {
      background: #f8f9fa;
      padding: 12px;
      border-radius: 8px;
      border-left: 3px solid #e67e22;
    }
    
    .reference-name {
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 3px;
      font-size: 12px;
    }
    
    .reference-title {
      font-size: 10px;
      color: #7f8c8d;
      margin-bottom: 6px;
    }
    
    .reference-contact {
      font-size: 10px;
      color: #555;
      margin-bottom: 3px;
    }
    
    /* Section spacing */
    .section {
      margin-bottom: 20px;
    }
    
    /* Print optimization */
    @media print {
      body {
        font-size: 11px;
      }
      .container {
        height: auto;
        overflow: visible;
      }
      .header {
        margin-bottom: 20px;
      }
      .two-column {
        margin-bottom: 15px;
      }
      .section {
        margin-bottom: 15px;
      }
      .timeline-item {
        margin-bottom: 12px;
      }
      h2 {
        font-size: 14px;
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header Section -->
    <div class="header">
      <div class="photo-container">
        {% if cv.photo_url %}
          <img src="{{ cv.photo_url }}" class="photo" alt="Profile Photo">
        {% else %}
          <img src="https://via.placeholder.com/120x140/e67e22/ffffff?text=Photo" class="photo" alt="Profile Photo">
        {% endif %}
      </div>
      
      <div class="header-info">
        <div class="name">{{ cv.first_name }} {{ cv.last_name }}</div>
        {% if cv.job_title %}
          <div class="job-title">{{ cv.job_title }}</div>
        {% endif %}
        
        {% if cv.profile_description %}
          <div class="about-text">{{ cv.profile_description }}</div>
        {% endif %}
        
        <div class="contact-info">
          {% if cv.phone %}
            <div class="contact-item">
              <span class="contact-label">Phone:</span> {{ cv.phone }}
            </div>
          {% endif %}
          {% if cv.email %}
            <div class="contact-item">
              <span class="contact-label">Email:</span> {{ cv.email }}
            </div>
          {% endif %}
          {% if cv.city %}
            <div class="contact-item">
              <span class="contact-label">Location:</span> {{ cv.city }}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
    
    <!-- Two Column Layout -->
    <div class="two-column">
      <!-- Left Column -->
      <div class="left-column">
        {% if cv.educations %}
          <div class="section">
            <h2>Education</h2>
            {% for edu in cv.educations %}
              <div class="timeline-item">
                <div class="timeline-header">
                  <div class="timeline-title">{{ edu.degree or edu.school_name }}</div>
                  <div class="timeline-date">{{ edu.start_date or '-' }} - {{ edu.end_date or '-' }}</div>
                </div>
                <div class="timeline-company">{{ edu.school_name }}</div>
                {% if edu.major %}
                  <div class="timeline-description">{{ edu.major }}</div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% endif %}
        
        {% if cv.skills %}
          <div class="section">
            <h2>Skills</h2>
            <ul class="skills-list">
              {% for skill in cv.skills %}
                <li>{{ skill.name }}{% if skill.level %} - {{ skill.level }}{% endif %}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
        
        {% if cv.languages %}
          <div class="section">
            <h2>Languages</h2>
            <ul class="skills-list">
              {% for lang in cv.languages %}
                <li>{{ lang.name }}{% if lang.proficiency %} - {{ lang.proficiency }}{% endif %}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
        
        {% if cv.interests %}
          <div class="section">
            <h2>Interests</h2>
            <ul class="skills-list">
              {% for interest in cv.interests %}
                <li>{{ interest.description }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
      </div>
      
      <!-- Right Column -->
      <div class="right-column">
        {% if cv.experiences %}
          <div class="section">
            <h2>Experience</h2>
            {% for exp in cv.experiences %}
              <div class="timeline-item">
                <div class="timeline-header">
                  <div class="timeline-title">{{ exp.job_title }}</div>
                  <div class="timeline-date">{{ exp.start_date or '-' }} - {{ exp.end_date or '-' }}</div>
                </div>
                <div class="timeline-company">{{ exp.company }}</div>
                {% if exp.description %}
                  <div class="timeline-description">{{ exp.description }}</div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% endif %}
        
        {% if cv.leaderships %}
          <div class="section">
            <h2>Leadership</h2>
            {% for lead in cv.leaderships %}
              <div class="timeline-item">
                <div class="timeline-header">
                  <div class="timeline-title">{{ lead.role }}</div>
                  <div class="timeline-date">{{ lead.start_date or '-' }} - {{ lead.end_date or '-' }}</div>
                </div>
                <div class="timeline-company">{{ lead.organization }}</div>
                {% if lead.description %}
                  <div class="timeline-description">{{ lead.description }}</div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% endif %}
        
        {% if cv.activities %}
          <div class="section">
            <h2>Activities</h2>
            {% for act in cv.activities %}
              <div class="timeline-item">
                <div class="timeline-header">
                  <div class="timeline-title">{{ act.name }}</div>
                  <div class="timeline-date">{{ act.start_date or '-' }} - {{ act.end_date or '-' }}</div>
                </div>
                {% if act.description %}
                  <div class="timeline-description">{{ act.description }}</div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% endif %}
        
        {% if cv.references %}
          <div class="section">
            <h2>References</h2>
            <div class="references-grid">
              {% for ref in cv.references %}
                <div class="reference-item">
                  <div class="reference-name">{{ ref.name }}</div>
                  <div class="reference-title">{{ ref.title }} / {{ ref.company }}</div>
                  {% if ref.phone %}
                    <div class="reference-contact"><span class="contact-label">Phone:</span> {{ ref.phone }}</div>
                  {% endif %}
                  {% if ref.email %}
                    <div class="reference-contact"><span class="contact-label">Email:</span> {{ ref.email }}</div>
                  {% endif %}
                </div>
              {% endfor %}
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</body>
</html>